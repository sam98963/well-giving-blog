
<%= search_form_for @q,class:"flex flex-col" ,url: "" do |f| %>
  <div class="form-group my-4 flex flex-col items-start">
    <%= f.label :contents_cont, "Search Posts:" %>
    <section>
      <%= f.text_field :contents_cont, :class => "form-control border border-black rounded pl-2 py-2", :placeholder => "Enter a few characters" %>
      <%= f.submit :class => "cursor-pointer px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded" %>
    </section>
    <%= link_to "Clear filters", root_path, class: "btn btn-default btn-block text-gray-100"%> 
  </div>
<% end %>

<%= render "/posts/sortfilter" %>


<h2>Here are some of our latest entries:</h2>

<section class="w-4/5 h-auto py-10 flex flex-wrap justify-between">
<% @posts.each do |post| %>
  <div class="blog-post w-2/5 border border-black rounded mx-3 my-2 flex flex-col items-center">
    <h2><%= post.subject %></h2>
    <p><%= post.contents %></p>
    <p>Posted by: <%= extract_username_from_email(post.user.email) %></p>
    <div class="flex w-full justify-center">
      <%= button_to 'Upvote', upvote_post_path(post), method: :post, class: 'upvote-button' %>
      <p><%= post.upvote_count %></p>
    </div>
  </div>
<% end %>
